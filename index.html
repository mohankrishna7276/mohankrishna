<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nagara Seva</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Nagara Seva</h1>
</header>

<div class="container-wrapper">
  <div class="container">

    <!-- Home / login selection -->
    <div id="home">
      <h2>Login to Nagara Seva</h2>
      <p>Choose your login type:</p>
      <button class="btn" onclick="showSection('clientLogin')">Client Login</button>
      <button class="btn officer-btn" onclick="showSection('officerLogin')">Officer Login</button>
    </div>

    <!-- Client login -->
    <div id="clientLogin" class="hidden">
      <h2>Client Login</h2>
      <form onsubmit="clientLogin(event)">
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="Password" required>
        <button class="btn">Login</button>
      </form>
      <a class="link" onclick="showSection('createAccount')">New here? Create Account</a><br>
      <a class="link" onclick="goHome()">‚Üê Back to Home</a>
    </div>

    <!-- Officer login -->
    <div id="officerLogin" class="hidden">
      <h2>Officer Login</h2>
      <form onsubmit="officerLogin(event)">
        <input type="text" placeholder="Officer ID" required>
        <input type="password" placeholder="Password" required>
        <button class="btn officer-btn">Login</button>
      </form>
      <a class="link" onclick="goHome()">‚Üê Back to Home</a>
    </div>

    <!-- Client account creation -->
    <div id="createAccount" class="hidden">
      <h2>Create Client Account</h2>
      <form onsubmit="return false;">
        <input type="text" placeholder="Full Name" required>
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="Password" required>
        <input type="password" placeholder="Confirm Password" required>
        <button class="btn">Sign Up</button>
      </form>
      <a class="link" onclick="showSection('clientLogin')">‚Üê Back to Client Login</a>
    </div>

    <!-- Issue reporting page -->
    <div id="issueReporting" class="hidden">
      <h2>Report an Issue</h2>
      <form id="issueForm" onsubmit="reportIssue(event)">
        <input type="text" placeholder="Issue Title" required>
        <textarea placeholder="Describe the issue..." required></textarea>
        
        <div class="section-heading">Upload Photo</div>
        <input type="file" accept="image/*" required>

        <div class="section-heading">Issue Location</div>
        <input type="text" id="location" placeholder="Enter location or use button" required>
        <button type="button" class="btn" onclick="getLocation()">üìç Use Current Location</button>

        <button class="btn" type="submit">Submit Issue</button>
      </form>
      <a class="link" onclick="goHome()">‚Üê Logout</a>
    </div>

    <!-- Officer Issue Details Page -->
    <div id="issueDetails" class="hidden">
      <h2>Issue Details</h2>
      <div class="issue-details-container-vertical">
        <div class="issue-map" id="issueMap">
          <h3>Location Map</h3>
          <div id="leafletMap" style="height:300px; border-radius:8px;"></div>
        </div>
        <div class="issue-info" id="issueInfo">
          <!-- Empty bottom frame -->
        </div>
      </div>
      <a class="link" onclick="goHome()">‚Üê Logout</a>
    </div>

  </div>
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<!-- Custom JS -->
<script src="script.js"></script>
</body>
</html>
